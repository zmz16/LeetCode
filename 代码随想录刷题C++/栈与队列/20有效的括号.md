# 题目链接

https://leetcode.cn/problems/valid-parentheses/description/

## 思路

三种情况

- **左括号多余**：字符串遍历结束，栈不为空
- **括号闭合顺序错误**：遇到右括号时，栈顶的左括号类型不匹配
- **右括号多余**：遇到右括号时，栈已为空

## 入栈匹配括号（压入对应的右括号）

```cpp
class Solution {
public:
    bool isValid(string s) {
        stack<char> st;
        for (char c : s) {
            if (c == '(') {
                st.push(')');
            }
            else if (c == '{') {
                st.push('}');
            }
            else if (c == '[') {
                st.push(']');
            }
            else {
                // 右括号多余，栈为空
                // 遇到的右括号与栈顶元素不相同
                if (st.empty() || st.top() != c) {   
                    return false;
                }
                else {
                    st.pop();
                }
            }
        }
        // 栈为空，括号有效
        // 栈不为空，左括号多余
        return st.empty();
    }
};
```

## 直接入栈（原字符入栈）

```cpp
class Solution {
public:
    bool isValid(string s) {
        stack<char> st;
        for (char c : s) {
            if (c == '(' || c == '{' || c == '[') {
                st.push(c);
            }
            else {
                if (st.empty()) {   // 右括号多余
                    return false;
                }

                // 栈顶元素与遇到的右括号不匹配
                char top = st.top();
                st.pop();
                if ((c == ')' && top != '(') || 
                (c == '}' && top != '{') || 
                (c == ']' && top != '[')) {
                    return false;
                }
            }
        }
        return st.empty();   // 栈为空，有效；栈不为空，左括号多余
    }
};
```