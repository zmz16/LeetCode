# 题目链接

https://leetcode.cn/problems/house-robber-ii/description/

## C++

两种情况，线性考虑，不考虑首/尾元素。

```cpp
class Solution {
    int robAction(vector<int>& nums, int begin, int end) {   // begin 表示首元素，end 表示尾元素
        if (end == begin) return nums[begin];   // 不考虑首/尾，只剩下一个元素
        vector<int> dp (nums.size(), 0);   // 考虑两种线性情况，不包含首元素和不包含尾元素，用不到的初始化为0
        dp[begin] = nums[begin];
        dp[begin + 1] = max(nums[begin], nums[begin + 1]);


        for (int i = begin + 2; i <= end; i++) {
            dp[i] = max(dp[i - 2] + nums[i], dp[i - 1]);
        }

        return dp[end];
    }
public:
    int rob(vector<int>& nums) {
        if (nums.size() == 1) return nums[0];
    
        int head = robAction(nums, 0, nums.size() - 2);   //不考虑尾元素
        int tail = robAction(nums, 1, nums.size() - 1);   // 不考虑首元素

        return max(head, tail);
    }
};
```